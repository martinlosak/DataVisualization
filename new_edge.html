<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Three.js</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
    </style>
</head>
<body>

<script src="build/three.min.js"></script>
<script src="js/controls/OrbitControls.js"></script>
<script>
    var scene = new THREE.Scene();

    var camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 1, 1000);
    camera.position.set(0, 130, 500);
    camera.lookAt(new THREE.Vector3(0, 0, 0));

    var renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    controls = new THREE.OrbitControls(camera, renderer.domElement);

    var axisHelper = new THREE.AxisHelper(500);
    scene.add(axisHelper);

    drawCylinder(200, 100, 20);

    drawStraightLines(20, 30);
    //    drawCurvedLines();


    function render() {
        requestAnimationFrame(render);
        renderer.render(scene, camera);
        controls.update();
    }
    render();

    function drawCylinder(radius, height, segments) {
        var cylinderGeometry = new THREE.CylinderGeometry(radius, radius, height, segments);
        var sides = cylinderGeometry.faces.length / 2;
        for (var i = 0; i < sides; i += 2) {
            var hex = Math.random() * 0xffffff;
            cylinderGeometry.faces[i].color.setHex(hex);
            cylinderGeometry.faces[i + 1].color.setHex(hex);
        }

        // vyfarbi vrch
        for (var j = 20; j < 30; j += 1) {
            cylinderGeometry.faces[j].color.setHex(0xff0000);
        }

        var cylinder = new THREE.Mesh(cylinderGeometry, new THREE.MeshBasicMaterial({
            vertexColors: THREE.FaceColors
        }));
        scene.add(cylinder);
    }

    function drawStraightLines(nodes, edges) {
        var circleLength = 2 * Math.PI;
        var nodesGap = 2 * Math.PI / nodes;
        for (var i = 0; i < circleLength; i += nodesGap) {
            console.log(i);
            var material = new THREE.LineBasicMaterial({
                color: 0x4682b4
            });

            var geometry = new THREE.Geometry();
            geometry.vertices.push(
                    new THREE.Vector3(-200, 50, 0),
                    new THREE.Vector3(200 * Math.cos(i), 50, 200 * Math.sin(i))
            );

            console.log(geometry.vertices);

            var line = new THREE.Line(geometry, material);
            scene.add(line);
        }
    }

    function drawCurvedLines() {
        var curve = new THREE.CatmullRomCurve3([
            new THREE.Vector3(-radius, height / 2, 0),
            new THREE.Vector3(0, height / 2, 150),
            new THREE.Vector3(radius, height / 2, 0)
        ]);
        var geometry = new THREE.Geometry();
        geometry.vertices = curve.getPoints(50);
        var spline = new THREE.Line(geometry, new THREE.LineBasicMaterial({color: 0x4682b4}));
        scene.add(spline);
    }
</script>

</body>
</html>
